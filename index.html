<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hyacinth</title>
  <link rel="stylesheet" href="src/css/style.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <header>
    <h1>Hyacinth SAT Monitor    </h1>
    <nav class="top-nav">
      <ul>
        <li>总览</li>
        <li>数据</li>
        <li>解码</li>
        <li>关于</li>
      </ul>
    </nav>
  </header>

  <main>
    <div id="data-page" class="page" style="display:none">
      <section id="status-cards" class="cards">

      <div class="card">
        <h3> 姿态与轨道</h3>
        <table>
          <tr><td>滚动角（Roll）</td><td class="value">--</td></tr>
          <tr><td>俯仰角（Pitch）</td><td class="value">--</td></tr>
          <tr><td>偏航角（Yaw）</td><td class="value">--</td></tr>
          <tr><td>角速度（三轴）</td><td class="value">--</td></tr>
          <tr><td>位置矢量</td><td class="value">--</td></tr>
          <tr><td>速度矢量</td><td class="value">--</td></tr>
          <tr><td>轨道六根数</td><td class="value">--</td></tr>
          <tr><td>指向精度 / 姿态稳定度</td><td class="value">--</td></tr>
        </table>
      </div>

      <div class="card">
        <h3>电源系统</h3>
        <table>
          <tr><td>电池电压</td><td class="value">--</td></tr>
          <tr><td>电池电流</td><td class="value">--</td></tr>
          <tr><td>电池温度</td><td class="value">--</td></tr>
          <tr><td>3V电压</td><td class="value">--</td></tr>
          <tr><td>5V电压</td><td class="value">--</td></tr>
          <tr><td>充放电状态 / SOC</td><td class="value">--</td></tr>
          <tr><td>电池健康（SOH）</td><td class="value">--</td></tr>
          <tr><td>太阳能电池板输出功率</td><td class="value">--</td></tr>
          <tr><td>光伏电压/电流</td><td class="value">--</td></tr>
          <tr><td>太阳板展开状态 / 对日角度</td><td class="value">--</td></tr>
          <tr><td>太阳板温度</td><td class="value">--</td></tr>
        </table>
      </div>

      <div class="card">
        <h3>热控系统</h3>
        <table>
          <tr><td>仪器舱温度</td><td class="value">--</td></tr>
          <tr><td>推进剂温度</td><td class="value">--</td></tr>
          <tr><td>电子设备温度</td><td class="value">--</td></tr>
          <tr><td>外表面温度</td><td class="value">--</td></tr>
          <tr><td>加热器状态</td><td class="value">--</td></tr>
        </table>
      </div>

      <div class="card">
        <h3>姿轨控系统</h3>
        <table>
          <tr><td>动量轮状态</td><td class="value">--</td></tr>
          <tr><td>陀螺仪输出</td><td class="value">--</td></tr>
          <tr><td>磁力计输出</td><td class="value">--</td></tr>
          <tr><td>反作用轮转速 / 扭矩</td><td class="value">--</td></tr>
          <tr><td>磁矩器电流</td><td class="value">--</td></tr>
          <tr><td>磁矩器输出</td><td class="value">--</td></tr>
          <tr><td>（等待姿轨控分系统部门同步进度）</td><td class="value">--</td></tr>
          <!-- <tr><td>推进剂剩余量</td><td class="value">--</td></tr>
          <tr><td>推进剂压力</td><td class="value">--</td></tr>
          <tr><td>推进剂温度</td><td class="value">--</td></tr>
          <tr><td>推力器工作次数</td><td class="value">--</td></tr>
          <tr><td>累计点火时间</td><td class="value">--</td></tr>
          <tr><td>储箱压力 / 管路压力</td><td class="value">--</td></tr> -->
        </table>
      </div>

      <div class="card card-payload">
        <h3>载荷分系统</h3>
        <table>
          <tr><td>成像系统 - 相机温度</td><td class="value">--</td></tr>
          <tr><td>成像系统 - 焦平面温度</td><td class="value">--</td></tr>
          <tr><td>成像系统 - 快门/滤光片状态</td><td class="value">--</td></tr>
          <tr><td>CCD/CMOS 工作参数</td><td class="value">--</td></tr>
          <tr><td>数据记录 - 存储容量</td><td class="value">--</td></tr>
          <tr><td>数据记录 - 读写速率 / 错误率</td><td class="value">--</td></tr>
          <tr><td>通信载荷 - 转发器功率/增益</td><td class="value">--</td></tr>
          <tr><td>通信载荷 - 波束 EIRP / 覆盖</td><td class="value">--</td></tr>
          <tr><td>科学载荷 - 传感器原始数据状态</td><td class="value">--</td></tr>
          <tr><td>科学载荷 - 标定参数 / 校准状态</td><td class="value">--</td></tr>
        </table>
      </div>

      <div class="card card-comm">
        <h3>通信系统</h3>
        <table>
          <tr><td>发射机/接收机功率</td><td class="value">--</td></tr>
          <tr><td>发射机/接收机温度</td><td class="value">--</td></tr>
          <tr><td>信噪比（SNR）</td><td class="value">--</td></tr>
          <tr><td>误码率（BER）</td><td class="value">--</td></tr>
          <tr><td>信号强度</td><td class="value">--</td></tr>
          <tr><td>天线指向角度 / 展开状态</td><td class="value">--</td></tr>
        </table>
      </div>

      <div class="card">
        <h3>健康管理数据</h3>
        <table>
          <tr><td>开关状态（通电/断电）</td><td class="value">--</td></tr>
          <tr><td>各分系统工作模式</td><td class="value">--</td></tr>
          <tr><td>错误计数 / 异常次数</td><td class="value">--</td></tr>
          <tr><td>SEU 计数 / SEL 状态</td><td class="value">--</td></tr>
          <tr><td>累积辐射剂量</td><td class="value">--</td></tr>
          <tr><td>高能粒子通量</td><td class="value">--</td></tr>
          <tr><td>展开机构状态（太阳板/天线）</td><td class="value">--</td></tr>
          <tr><td>动量轮/陀螺转速 / 振动</td><td class="value">--</td></tr>
          <tr><td>星敏感器识别状态</td><td class="value">--</td></tr>
        </table>
      </div>

      <div class="card">
        <h3>工程数据</h3>
        <table>
          <tr><td>星上时间</td><td class="value">--</td></tr>
          <tr><td>关键事件时间戳</td><td class="value">--</td></tr>
          <tr><td>GPS - 位置/速度/时间</td><td class="value">--</td></tr>
          <tr><td>星敏感器参考数据</td><td class="value">--</td></tr>
          <tr><td>存储器使用</td><td class="value">--</td></tr>
          <tr><td>处理器负载（CPU/内存）</td><td class="value">--</td></tr>
          <tr><td>总线负载 / 错误计数</td><td class="value">--</td></tr>
        </table>
      </div>
    </section>
    </div>

    <div id="decode-page" class="page" style="display:none">
      <!-- 解码页面（占位，暂不填充内容） -->
    </div>

    <div id="about-page" class="page" style="display:none">
      <section class="about">
        <h2>About HAMSAT Station Monitor</h2>
        <p>Hyacinth Satelite Monitor</p>

        <h3>主要特点</h3>
        <ul>
          <li>基于 jQuery 的轻量前端实现，便于快速集成与定制。</li>
          <li>实时数据展示：支持通过 WebSocket/HTTP 接入遥测数据流并动态更新界面。</li>
          <li>响应式布局：适配桌面与移动端视图。</li>
        </ul>

        <h3>技术栈</h3>
        <p>前端：HTML、CSS、jQuery。后端：任意可提供 WebSocket 或 HTTP 实时接口的服务（自行对接）。</p>

        <h3>许可证</h3>
        <p>本项目在 MIT 许可下发布。引用第三方代码时请注意其各自许可协议。</p>

        <h3>贡献</h3>
        <p>欢迎提交 PR 或 issue 来改进界面与功能。建议先在本地分支上开发并确保界面行为一致，再发起合并请求。</p>
      </section>
    </div>

    <div id="overview-page" class="page">
      <section id="telemetry">
      <h2>遥测表</h2>
      <table id="telemetry-table">
        <thead>
          <tr><th>时间</th><th>字段</th><th>值</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <div class="visual-row">
      <section id="map">
        <h2>轨迹（占位）</h2>
        <div class="map-placeholder">地图或轨迹展示占位区<br>可能会使用google地图api或者别的什么地图</div>
      </section>

      <section id="attitude">
        <h2>姿态仪</h2>
        <!-- <div class="attitude-placeholder">姿态仪占位区</div> -->
          <div style="position: relative; width: 400px; height: 400px; background-color: black;">
          <canvas id="canvas" width="700" height="700" style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
          <canvas id="compass" width="700" height="700" style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
          <canvas id="overlay" width="700" height="700" style="position: absolute; left: 0; top: 0; z-index: 2; pointer-events: none;"></canvas>
        </div>
      </section>
    </div>

    <section id="log">
      <h2>实时日志</h2>
      <pre id="event-log"></pre>
    </section>
    </div>

    <!-- 控件已包含在 #overview-page 中，已移除重复副本 -->
  </main>

  <footer>
    <small>仅使用 jQuery；如需后端对接，请在 `src/js/app.js` 中设置 WebSocket/HTTP URL。</small>
  </footer>

  <script src="src/js/app.js"></script>
  <script src="src/js/indicator.js"></script>
</body>
</html>
